<ion-view>
    <ion-content class="premieres-container padding">
        <div class="row padding-bottom">
            <div class="col col-85">
                <div class="item item-icon-left tittle light">
                    <i class="icon ion-android-calendar"></i>
                    <b>{{getToday | date:'EEEE, MMMM d, y'}}</b>
                </div>
            </div>
            <div class="col col-15 align-buttom">
                <button class="button button-assertive" 
                    ng-click="showSearch = true" 
                    ng-show="!showSearch">
                    <i class="icon ion-funnel"></i>
                </button>
                <button class="button button-assertive" 
                    ng-click="showSearch = false" 
                    ng-show="showSearch">
                    <i class="icon ion-minus-round"></i>
                </button>
            </div>
        </div>
        <div class="row" ng-if="showSearch">
            <div class="col col-30 margin-search">
                <label class="item item-input">
                  <i class="icon ion-search placeholder-icon"></i>
                  <input type="search" placeholder="Search" ng-model="$parent.search">
                </label>
            </div>
        </div>
        <div class="list margin-separate" 
            ng-repeat="serie in series | filter:{airdate:getToday} | 
            filter:search"
            ng-if="serie.show.externals.imdb">
            <ion-checkbox ng-click="selected(serie);">
                <h7 class="title-card"><b>{{serie.show.name}}</b></h7>
            </ion-checkbox>
            <div class="item item-thumbnail-left margin-avatar" 
                ng-click="setCurrentSerie(serie)">
                <img class="size-image" ng-if="serie.show.image.original" 
                    ng-src="{{serie.show.image.original}}">
                <img class="size-image" 
                    ng-if="!serie.show.image.original && serie.image.original"
                    ng-src="{{serie.image.original}}">
                <img class="size-image" 
                    ng-if="!serie.show.image.original && !serie.image.original"
                    ng-src="/img/noImage.png">
                <div class="light">
                    <title-card><b>{{serie.name}}</b></title-card>
                    <div>
                        <b>Season:</b> {{serie.season}} <br>
                        <b>Episodie:</b> {{serie.number}}<br>
                        <b>Today:</b> {{serie.airstamp | date:'MMM d, y h:mm a'}}
                    <div>
                    <div>
                        <img class="size-flag" ng-if="serie.show.network.country.code == 'US'" ng-src="/img/us.png">
                        <b>{{serie.show.network.name}}</b>
                    </div>
                </div>
            </div>
        </div>
    </ion-content>
</ion-view>